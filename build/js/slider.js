"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var VS_slider=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.mainClass=t.mainClass||".slider",this.pos=t.pos||1,this.isCycling=t.isCycling||!0,this.slider=document.querySelector(this.mainClass),this.sliderWrap=document.querySelector(".slider-wrap"),this.sliderWrapWidth=this.sliderWrap.getBoundingClientRect().width,this.itemsBox=document.querySelector(".slider-items"),this.imgChildren=this.itemsBox.getElementsByTagName("IMG"),this.prev_control=document.querySelector(".slider-pointer-left"),this.next_control=document.querySelector(".slider-pointer-right"),this.distance=0,this.x=t.x||0,this.shift=0,this.slide=0,this._vs_go_next=e._vs_go_next.bind(this),this._vs_go_prev=e._vs_go_prev.bind(this),this._vs_go_nav=e._vs_go_nav.bind(this)}return _createClass(e,[{key:"_windowLoad",value:function(){var e=this;window.onload=function(){var t=e.sliderWrap.getBoundingClientRect().width;e.itemsBox.getElementsByTagName("LI");e.x-=t*e.pos,e.itemsBox.style.marginLeft="".concat(e.x,"px"),e.sliderWrapWidth=t,e.resize(),e.navAnimation(e.pos-1)}}},{key:"createSlider",value:function(){this._windowLoad(),this.createClone(),this.listener()}},{key:"createClone",value:function(){var t=this,e=this.itemsBox.firstElementChild.cloneNode(!0),i=this.itemsBox.lastElementChild.cloneNode(!0);e.classList.add("clone"),i.classList.add("clone"),this.itemsBox.insertBefore(i,this.itemsBox.firstElementChild),this.itemsBox.insertBefore(e,null),setTimeout(function(){t.itemsBox.style.transition="all 0.5s ease"},600)}},{key:"listener",value:function(){var i,s,n=this,t=document.querySelector(".slider-number-block");if(!this._checkImg())return!1;this.prev_control.addEventListener("click",function(){n._vs_go_prev()}),this.next_control.addEventListener("click",function(){n._vs_go_next()}),window.addEventListener("resize",function(){n.resize()}),t.addEventListener("click",function(t){n._vs_go_nav(t)}),this.sliderWrap.addEventListener("touchstart",function(t){i=t.changedTouches[0]}),this.sliderWrap.addEventListener("touchend",function(t){s=t.changedTouches[0];var e=Math.abs(i.pageX-s.pageX);Math.abs(i.pageY-s.pageY);30<e&&(i.pageX<s.pageX?n._vs_go_prev():n._vs_go_next())},!0),document.onmousedown=function(t){t.preventDefault();var e=t.target;i=t.pageX,document.onmouseup=function(t){"IMG"==e.tagName&&(s=t.pageX,30<Math.abs(i-s)&&(i<s?n._vs_go_prev():n._vs_go_next()))}}}},{key:"_checkImg",value:function(){return 4<this.slider.querySelectorAll("IMG").length}},{key:"navAnimation",value:function(t){this.slide=t||this.slide;var e=document.querySelector(".slider-number-block").querySelectorAll("DIV");e.forEach(function(t,e){t.classList.remove("active")}),e[this.slide].classList.add("active")}},{key:"resize",value:function(){var t=this;this.itemsBox.getElementsByTagName("LI");if(this.sliderWrapWidth=this.sliderWrap.offsetWidth,1200<=window.innerWidth&window.innerWidth<1600){this.x=-this.sliderWrapWidth*this.pos,this.itemsBox.style.transition="all 0s",this.itemsBox.style.marginLeft="".concat(this.x,"px");setTimeout(function(){t.itemsBox.style.transition="all 0.4s ease"},15)}else window.innerWidth<768?(this.x=-this.sliderWrapWidth*this.pos,this.itemsBox.style.transition="all 0s",this.itemsBox.style.marginLeft="".concat(this.x,"px"),setTimeout(function(){t.itemsBox.style.transition="all 0.4s ease"},15)):window.innerWidth<1200?(this.x=-this.sliderWrapWidth*this.pos,this.itemsBox.style.transition="all 0s",this.itemsBox.style.marginLeft="".concat(this.x,"px"),setTimeout(function(){t.itemsBox.style.transition="all 0.4s ease"},15)):1600<window.innerWidth&&(this.x=-this.sliderWrapWidth*this.pos,this.itemsBox.style.transition="all 0s",this.itemsBox.style.marginLeft="".concat(this.x,"px"),setTimeout(function(){t.itemsBox.style.transition="all 0.4s ease"},15))}}],[{key:"_vs_go_next",value:function(){var t=this;this.sliderWrapWidth=this.sliderWrap.getBoundingClientRect().width,this.pos+=1,3<this.pos?(this.slide=0,this.x=0,this.itemsBox.style.transition="all 0s",this.itemsBox.style.marginLeft="".concat(this.x,"px"),this.pos=1,setTimeout(function(){t.itemsBox.style.transition="all 0.4s ease",t.x-=t.sliderWrapWidth,t.itemsBox.style.marginLeft="".concat(t.x,"px")},15)):(this.slide+=1,this.x-=this.sliderWrapWidth,this.itemsBox.style.marginLeft="".concat(this.x,"px")),this.navAnimation()}},{key:"_vs_go_prev",value:function(){var t=this;this.pos-=1,this.pos<1?(this.slide=2,this.x=-1*this.sliderWrapWidth*4,this.itemsBox.style.transition="all 0s",this.itemsBox.style.marginLeft="".concat(this.x,"px"),this.pos=3,setTimeout(function(){t.itemsBox.style.transition="all 0.4s ease",t.x+=t.sliderWrapWidth,t.itemsBox.style.marginLeft="".concat(t.x,"px")},15)):(this.slide-=1,this.x+=this.sliderWrapWidth,this.itemsBox.style.marginLeft="".concat(this.x,"px")),this.navAnimation()}},{key:"_vs_go_nav",value:function(i){i.preventDefault();var s=0,t=document.querySelector(".slider-number-block").querySelectorAll("DIV");Array.from(t,function(t){return t.className}).forEach(function(t,e){if(t==i.target.className)return s=e}),this.slide=s,this.pos=this.slide+1,this.navAnimation(),this.x=-this.sliderWrapWidth-this.sliderWrapWidth*s,this.itemsBox.style.marginLeft="".concat(this.x,"px")}}]),e}(),slide=new VS_slider({pos:2});slide.createSlider();